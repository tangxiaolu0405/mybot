---
name: memory-iteration-manager
description: 管理记忆迭代：提炼、更新、流转规则与关联。任务完成后执行记忆系统迭代时使用。依赖 memory-reader。
version: 1.0.0
author: CLAW Team
tags: [memory, iteration, knowledge-management, self-improvement]
dependencies: [memory-reader]
---

# memory-iteration-manager

## 触发

- 任务完成后需更新记忆
- 需将短期记忆提升为长期记忆或执行流转规则
- 需建立记忆间关联或提炼经验

## 依赖

先通过 memory-reader 读取/写入记忆路径；本技能定义规则与流程。

## 分类与流转

- **分类优先级**：显式标记 > 会话相关(短期) > 需持久化(长期) > 任务相关(工作) > 可复用(长期)。
- **提升为长期**：访问>5 或 存在>1h 或 重要性>0.7 或 含关键知识 或 用户标记重要。
- **降级/删除**：30 天未访问 或 重要性持续降 或 已被替代 或 错误/过时。

## 执行流程

1. **提炼**：从本次任务提取关键决策、成功方案、失败教训；识别模式与可复用实践；评估长期价值与权重。
2. **更新短期**：写 current_session（过程、结果、反馈、会话状态）。
3. **评估提升**：对候选信息检查是否满足提升条件；满足则写入 long-term 并更新统计与权重。
4. **关联**：从内容提取关键词；在长期记忆中搜索相似项；建立关联、去重、解决冲突。
5. **优化**：识别长期未访问或低价值项；按流转规则归档或删除；更新访问与权重统计。

## 约束

- 提升/删除严格按上述条件执行
- 关联基于关键词与类型，不虚构关系
- 不暴露敏感信息；避免记忆无限膨胀
