---
name: memory-reader
description: 读取和管理CLAW项目的记忆系统，包括长期记忆、短期记忆和工作记忆。支持按关键词检索、按类型过滤、获取摘要等功能。
version: 1.0.0
author: CLAW Team
tags: [memory, retrieval, knowledge-management]
dependencies: []
---

# Memory Reader

## 功能描述

读取CLAW项目的记忆系统，包括长期记忆（长期存储的项目知识）、短期记忆（当前会话上下文）和工作记忆（当前任务上下文）。支持多种检索方式和过滤条件。

## 使用场景

- 需要查找历史项目知识和决策
- 需要了解当前会话的上下文
- 需要检索特定类型的记忆
- 需要获取记忆的摘要信息
- 任务开始前加载相关记忆
- 任务完成后更新记忆

## 指令说明

### 基础指令

- **读取长期记忆**：读取 brain/memory/long-term/ 目录下的所有记忆文件
- **读取短期记忆**：读取 brain/memory/short-term/current_session.md 文件
- **按关键词检索**：在记忆中搜索特定关键词
- **按类型过滤**：按记忆类型（项目知识、用户偏好、历史决策等）过滤
- **获取记忆摘要**：获取记忆的简要概述

### 高级指令

- **检索相关记忆**：基于当前任务上下文检索相关记忆
- **分析记忆关联**：分析记忆之间的关联关系
- **生成记忆报告**：生成记忆系统的使用情况报告
- **验证记忆完整性**：检查记忆文件的完整性和格式

## 记忆路径

- **长期记忆路径**：brain/memory/long-term/
- **短期记忆路径**：brain/memory/short-term/current_session.md
- **核心思维模式**：brain/core.md

## 记忆类型

### 长期记忆
- 项目知识：项目架构、技术栈、设计模式
- 代码模式：最佳实践、常见模式、反模式
- 用户偏好：代码风格、工作习惯、决策偏好
- 技术栈：使用的框架、库、工具
- 历史决策：重要的架构决策、技术选型
- 经验教训：成功案例、失败教训

### 短期记忆
- 当前会话：会话ID、开始时间、用户意图
- 任务队列：进行中、待处理的任务
- 上下文信息：项目状态、用户偏好
- 临时变量：配置参数、路径信息
- 中间结果：已完成任务、生成内容
- 会话历史：用户请求、系统响应

## 检索流程

1. 确定检索需求（关键词、类型、时间范围）
2. 选择检索范围（长期记忆、短期记忆、全部）
3. 执行检索操作
4. 过滤和排序结果
5. 返回相关记忆

## 输出格式

### 基础检索格式
```
找到 X 条相关记忆：

[记忆类型] 记忆标题
- 关键信息1
- 关键信息2
- 关联信息
```

### 详细检索格式
```
记忆类型：[类型]
记忆路径：[路径]
更新时间：[时间]

内容摘要：
[摘要内容]

关键信息：
- 信息1
- 信息2

关联记忆：
- [关联记忆1]
- [关联记忆2]
```

## 最佳实践

- 任务开始前先检索相关记忆
- 使用精确关键词提高检索准确率
- 定期更新短期记忆
- 将重要信息提升到长期记忆
- 保持记忆的时效性和准确性

## 注意事项

- 记忆文件可能不存在，需要处理异常
- 记忆格式可能不一致，需要兼容处理
- 大量记忆检索可能影响性能
- 记忆更新需要遵循流转规则
- 保护敏感信息，避免泄露
